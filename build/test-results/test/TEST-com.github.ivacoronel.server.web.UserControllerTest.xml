<?xml version="1.0" encoding="UTF-8"?>
<testsuite name="com.github.ivacoronel.server.web.UserControllerTest" tests="12" skipped="0" failures="0" errors="0" timestamp="2025-06-10T03:28:21" hostname="gercos" time="0.231">
  <properties/>
  <testcase name="IncorrectMethod" classname="com.github.ivacoronel.server.web.UserControllerTest" time="0.033"/>
  <testcase name="registerSuccess" classname="com.github.ivacoronel.server.web.UserControllerTest" time="0.029"/>
  <testcase name="registerValidationFailedUniqueName" classname="com.github.ivacoronel.server.web.UserControllerTest" time="0.017"/>
  <testcase name="InternalServerError" classname="com.github.ivacoronel.server.web.UserControllerTest" time="0.045"/>
  <testcase name="fetchNotFound" classname="com.github.ivacoronel.server.web.UserControllerTest" time="0.012"/>
  <testcase name="UnknownPath" classname="com.github.ivacoronel.server.web.UserControllerTest" time="0.01"/>
  <testcase name="removeSuccess" classname="com.github.ivacoronel.server.web.UserControllerTest" time="0.01"/>
  <testcase name="dataIntegrityViolation" classname="com.github.ivacoronel.server.web.UserControllerTest" time="0.013"/>
  <testcase name="fetchWrongToken" classname="com.github.ivacoronel.server.web.UserControllerTest" time="0.013"/>
  <testcase name="removeNotFound" classname="com.github.ivacoronel.server.web.UserControllerTest" time="0.011"/>
  <testcase name="fetchSuccess" classname="com.github.ivacoronel.server.web.UserControllerTest" time="0.012"/>
  <testcase name="removeWrongToken" classname="com.github.ivacoronel.server.web.UserControllerTest" time="0.013"/>
  <system-out><![CDATA[2025-06-10 00:28:20.669  INFO 19858 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [com.github.ivacoronel.server.web.UserControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2025-06-10 00:28:20.676  INFO 19858 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.github.ivacoronel.server.ZKAuthApplication for test class com.github.ivacoronel.server.web.UserControllerTest
2025-06-10 00:28:20.677  INFO 19858 --- [    Test worker] .b.t.a.w.s.WebMvcTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2025-06-10 00:28:20.678  INFO 19858 --- [    Test worker] .b.t.a.w.s.WebMvcTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3f904e41, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@76a54c24, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@4548a33f, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@7c1a5160, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@41c5fae4, org.springframework.test.context.support.DirtiesContextTestExecutionListener@1d5d5a94, org.springframework.test.context.transaction.TransactionalTestExecutionListener@1d8c535b, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@33b380db, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@5dcf4e93, org.springframework.test.context.event.EventPublishingTestExecutionListener@2ab13644, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@5558bec2, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@7a4259ea, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@5dde2be7, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@7efe250e, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@6ec03abd, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@6a5b386, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@2a0831a6]
2025-06-10 00:28:20.681  INFO 19858 --- [    Test worker] o.s.b.d.r.RestartApplicationListener     : Restart disabled due to context in which it is running

  _________            .__              ______________  __.  _____          __  .__     
 /   _____/____________|__| ____    ____\____    /    |/ _| /  _  \  __ ___/  |_|  |__  
 \_____  \\____ \_  __ \  |/    \  / ___\ /     /|      <  /  /_\  \|  |  \   __\  |  \ 
 /        \  |_> >  | \/  |   |  \/ /_/  >     /_|    |  \/    |    \  |  /|  | |   Y  \
/_______  /   __/|__|  |__|___|  /\___  /_______ \____|__ \____|__  /____/ |__| |___|  /
        \/|__|                 \//_____/        \/       \/       \/                 \/ 
::::  

2025-06-10 00:28:20.751  INFO 19858 --- [    Test worker] c.g.i.server.web.UserControllerTest      : Starting UserControllerTest using Java 11.0.17 on gercos with PID 19858 (started by ivana in /home/ivana/projects/SpringZKAuth)
2025-06-10 00:28:20.752  INFO 19858 --- [    Test worker] c.g.i.server.web.UserControllerTest      : No active profile set, falling back to 1 default profile: "default"
2025-06-10 00:28:20.754  INFO 19858 --- [    Test worker] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://localhost:8888
2025-06-10 00:28:20.755  INFO 19858 --- [    Test worker] o.s.c.c.c.ConfigServerConfigDataLoader   : Connect Timeout Exception on Url - http://localhost:8888. Will be trying the next url if available
2025-06-10 00:28:20.755  WARN 19858 --- [    Test worker] o.s.c.c.c.ConfigServerConfigDataLoader   : Could not locate PropertySource ([ConfigServerConfigDataResource@5f7df488 uris = array<String>['http://localhost:8888'], optional = true, profiles = list['default']]): I/O error on GET request for "http://localhost:8888/application/default": Conexión rehusada (Connection refused); nested exception is java.net.ConnectException: Conexión rehusada (Connection refused)
2025-06-10 00:28:21.222  WARN 19858 --- [    Test worker] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: ec6c9cf0-ee43-47e1-8ed7-846270798148

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-06-10 00:28:21.274 DEBUG 19858 --- [    Test worker] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/zkauth/users/**', POST]
2025-06-10 00:28:21.275 DEBUG 19858 --- [    Test worker] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/zkauth/diary/**', POST]
2025-06-10 00:28:21.275 DEBUG 19858 --- [    Test worker] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/zkauth/diary/**', GET]
2025-06-10 00:28:21.275 DEBUG 19858 --- [    Test worker] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2025-06-10 00:28:21.285  INFO 19858 --- [    Test worker] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5fbae014, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@34c9c391, org.springframework.security.web.context.SecurityContextPersistenceFilter@1618d56f, org.springframework.security.web.header.HeaderWriterFilter@30ab39ff, org.springframework.web.filter.CorsFilter@6cb899e8, org.springframework.security.web.authentication.logout.LogoutFilter@6d9f27a2, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@5fb0f9f2, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@664bc117, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@f4678e0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@349f92e4, org.springframework.security.web.session.SessionManagementFilter@32f00f18, org.springframework.security.web.access.ExceptionTranslationFilter@2e8bc50e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@52415d15]
2025-06-10 00:28:21.324  INFO 19858 --- [    Test worker] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2025-06-10 00:28:21.324  INFO 19858 --- [    Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-06-10 00:28:21.324  INFO 19858 --- [    Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 0 ms
2025-06-10 00:28:21.337  INFO 19858 --- [    Test worker] c.g.i.server.web.UserControllerTest      : Started UserControllerTest in 0.656 seconds (JVM running for 12.307)
2025-06-10 00:28:21.348 DEBUG 19858 --- [    Test worker] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-06-10 00:28:21.348 DEBUG 19858 --- [    Test worker] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_USER]]] to HttpSession [org.springframework.mock.web.MockHttpSession@7ee1a9a1]
2025-06-10 00:28:21.349 DEBUG 19858 --- [    Test worker] o.s.security.web.FilterChainProxy        : Securing GET /zkauth/users
2025-06-10 00:28:21.349 DEBUG 19858 --- [    Test worker] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_USER]]]
2025-06-10 00:28:21.350 DEBUG 19858 --- [    Test worker] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_USER]]]
2025-06-10 00:28:21.356 DEBUG 19858 --- [    Test worker] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /zkauth/users] with attributes [authenticated]
2025-06-10 00:28:21.357 DEBUG 19858 --- [    Test worker] o.s.security.web.FilterChainProxy        : Secured GET /zkauth/users
2025-06-10 00:28:21.368 DEBUG 19858 --- [    Test worker] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request

MockHttpServletRequest:
      HTTP Method = GET
      Request URI = /zkauth/users
       Parameters = {_csrf=[19942e02-d5c2-467f-9511-34859cef2d20]}
          Headers = [Content-Type:"application/json;charset=UTF-8", ZKAuth-Token:"some-test-token", Content-Length:"629"]
             Body = {
  "createdBy" : null,
  "lastModifiedBy" : null,
  "id" : 1,
  "name" : "{$test.username}",
  "passwordless" : "a3166e7b31408c5a5c002d86b26069b69dbb91683b180c1a83533b5ea3e7c612744174a5fb9dc604e3b5c5310de40830e9cf6a61fdc71c2732cd49f18728c7961ea6e054c9c5285b8c7d4d79d3ef1fde61172dc03e69a9daf77dc77de71bc11aa05cc15f4cd007fdc72bc5bb5b4475f0d4e0c84ed059692ab4766fa1400adae5bdc3f3b9dcc0ab5af8e00924df40ed9878ed11818059005f31551323a12eece1e0ecb031ff1201093cc632ec23951420298fd4f07f560fd270eaa2ba4cf688a7f2c444a72caee47e35edd42faefabc7f596c150cc6a826eac77d94e1c0d82a28364260c678831178c8d85302f0f6d1be1ec5f99a2ac61d47a6072bb415635606"
}
    Session Attrs = {SPRING_SECURITY_CONTEXT=SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_USER]]]}

Handler:
             Type = null

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = org.springframework.web.HttpRequestMethodNotSupportedException

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 405
    Error message = null
          Headers = [Vary:"Origin", "Access-Control-Request-Method", "Access-Control-Request-Headers", Content-Type:"application/json", X-Content-Type-Options:"nosniff", X-XSS-Protection:"1; mode=block", Cache-Control:"no-cache, no-store, max-age=0, must-revalidate", Pragma:"no-cache", Expires:"0", X-Frame-Options:"DENY"]
     Content type = application/json
             Body = {"errorCode":"METHOD_NOT_ALLOWED","message":"Request method 'GET' not supported","errors":[{"actualMethod":"GET","supportedMethods":["POST"]}]}
    Forwarded URL = null
   Redirected URL = null
          Cookies = []
2025-06-10 00:28:21.379 DEBUG 19858 --- [    Test worker] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-06-10 00:28:21.379 DEBUG 19858 --- [    Test worker] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_USER]]] to HttpSession [org.springframework.mock.web.MockHttpSession@bdefef6]
2025-06-10 00:28:21.380 DEBUG 19858 --- [    Test worker] o.s.security.web.FilterChainProxy        : Securing POST /zkauth/users
2025-06-10 00:28:21.380 DEBUG 19858 --- [    Test worker] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_USER]]]
2025-06-10 00:28:21.380 DEBUG 19858 --- [    Test worker] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_USER]]]
2025-06-10 00:28:21.381 DEBUG 19858 --- [    Test worker] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /zkauth/users] with attributes [permitAll]
2025-06-10 00:28:21.382 DEBUG 19858 --- [    Test worker] o.s.security.web.FilterChainProxy        : Secured POST /zkauth/users
2025-06-10 00:28:21.400 DEBUG 19858 --- [    Test worker] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request

MockHttpServletRequest:
      HTTP Method = POST
      Request URI = /zkauth/users
       Parameters = {_csrf=[7c5af6aa-f708-4f8c-866d-3aba69874076]}
          Headers = [Content-Type:"application/json;charset=UTF-8", ZKAuth-Token:"some-test-token", Content-Length:"629"]
             Body = {
  "createdBy" : null,
  "lastModifiedBy" : null,
  "id" : 1,
  "name" : "{$test.username}",
  "passwordless" : "a3166e7b31408c5a5c002d86b26069b69dbb91683b180c1a83533b5ea3e7c612744174a5fb9dc604e3b5c5310de40830e9cf6a61fdc71c2732cd49f18728c7961ea6e054c9c5285b8c7d4d79d3ef1fde61172dc03e69a9daf77dc77de71bc11aa05cc15f4cd007fdc72bc5bb5b4475f0d4e0c84ed059692ab4766fa1400adae5bdc3f3b9dcc0ab5af8e00924df40ed9878ed11818059005f31551323a12eece1e0ecb031ff1201093cc632ec23951420298fd4f07f560fd270eaa2ba4cf688a7f2c444a72caee47e35edd42faefabc7f596c150cc6a826eac77d94e1c0d82a28364260c678831178c8d85302f0f6d1be1ec5f99a2ac61d47a6072bb415635606"
}
    Session Attrs = {SPRING_SECURITY_CONTEXT=SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_USER]]]}

Handler:
             Type = com.github.ivacoronel.server.web.controllers.UserController
           Method = com.github.ivacoronel.server.web.controllers.UserController#register(UserDto)

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = null

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 201
    Error message = null
          Headers = [Vary:"Origin", "Access-Control-Request-Method", "Access-Control-Request-Headers", Content-Type:"application/json", X-Content-Type-Options:"nosniff", X-XSS-Protection:"1; mode=block", Cache-Control:"no-cache, no-store, max-age=0, must-revalidate", Pragma:"no-cache", Expires:"0", X-Frame-Options:"DENY"]
     Content type = application/json
             Body = {"id":1,"name":"{$test.username}","passwordless":"a3166e7b31408c5a5c002d86b26069b69dbb91683b180c1a83533b5ea3e7c612744174a5fb9dc604e3b5c5310de40830e9cf6a61fdc71c2732cd49f18728c7961ea6e054c9c5285b8c7d4d79d3ef1fde61172dc03e69a9daf77dc77de71bc11aa05cc15f4cd007fdc72bc5bb5b4475f0d4e0c84ed059692ab4766fa1400adae5bdc3f3b9dcc0ab5af8e00924df40ed9878ed11818059005f31551323a12eece1e0ecb031ff1201093cc632ec23951420298fd4f07f560fd270eaa2ba4cf688a7f2c444a72caee47e35edd42faefabc7f596c150cc6a826eac77d94e1c0d82a28364260c678831178c8d85302f0f6d1be1ec5f99a2ac61d47a6072bb415635606"}
    Forwarded URL = null
   Redirected URL = null
          Cookies = []
2025-06-10 00:28:21.409 DEBUG 19858 --- [    Test worker] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-06-10 00:28:21.410 DEBUG 19858 --- [    Test worker] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_USER]]] to HttpSession [org.springframework.mock.web.MockHttpSession@3ccaf20d]
2025-06-10 00:28:21.410 DEBUG 19858 --- [    Test worker] o.s.security.web.FilterChainProxy        : Securing POST /zkauth/users
2025-06-10 00:28:21.411 DEBUG 19858 --- [    Test worker] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_USER]]]
2025-06-10 00:28:21.411 DEBUG 19858 --- [    Test worker] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_USER]]]
2025-06-10 00:28:21.412 DEBUG 19858 --- [    Test worker] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /zkauth/users] with attributes [permitAll]
2025-06-10 00:28:21.412 DEBUG 19858 --- [    Test worker] o.s.security.web.FilterChainProxy        : Secured POST /zkauth/users
2025-06-10 00:28:21.418 DEBUG 19858 --- [    Test worker] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request

MockHttpServletRequest:
      HTTP Method = POST
      Request URI = /zkauth/users
       Parameters = {_csrf=[4a35b7b5-9e79-4cc9-ab2b-7534c2a46136]}
          Headers = [Content-Type:"application/json;charset=UTF-8", ZKAuth-Token:"some-test-token", Content-Length:"629"]
             Body = {
  "createdBy" : null,
  "lastModifiedBy" : null,
  "id" : 1,
  "name" : "{$test.username}",
  "passwordless" : "a3166e7b31408c5a5c002d86b26069b69dbb91683b180c1a83533b5ea3e7c612744174a5fb9dc604e3b5c5310de40830e9cf6a61fdc71c2732cd49f18728c7961ea6e054c9c5285b8c7d4d79d3ef1fde61172dc03e69a9daf77dc77de71bc11aa05cc15f4cd007fdc72bc5bb5b4475f0d4e0c84ed059692ab4766fa1400adae5bdc3f3b9dcc0ab5af8e00924df40ed9878ed11818059005f31551323a12eece1e0ecb031ff1201093cc632ec23951420298fd4f07f560fd270eaa2ba4cf688a7f2c444a72caee47e35edd42faefabc7f596c150cc6a826eac77d94e1c0d82a28364260c678831178c8d85302f0f6d1be1ec5f99a2ac61d47a6072bb415635606"
}
    Session Attrs = {SPRING_SECURITY_CONTEXT=SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_USER]]]}

Handler:
             Type = com.github.ivacoronel.server.web.controllers.UserController
           Method = com.github.ivacoronel.server.web.controllers.UserController#register(UserDto)

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = org.springframework.dao.DataIntegrityViolationException

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 409
    Error message = null
          Headers = [Vary:"Origin", "Access-Control-Request-Method", "Access-Control-Request-Headers", Content-Type:"application/json", X-Content-Type-Options:"nosniff", X-XSS-Protection:"1; mode=block", Cache-Control:"no-cache, no-store, max-age=0, must-revalidate", Pragma:"no-cache", Expires:"0", X-Frame-Options:"DENY"]
     Content type = application/json
             Body = {"errorCode":"DATA_VALIDATION","message":"; nested exception is org.hibernate.exception.ConstraintViolationException: ","errors":[{"fieldName":"name","errorCode":"UNIQUE","params":[]}]}
    Forwarded URL = null
   Redirected URL = null
          Cookies = []
2025-06-10 00:28:21.429 DEBUG 19858 --- [    Test worker] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-06-10 00:28:21.429 DEBUG 19858 --- [    Test worker] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_USER]]] to HttpSession [org.springframework.mock.web.MockHttpSession@47833232]
2025-06-10 00:28:21.430 DEBUG 19858 --- [    Test worker] o.s.security.web.FilterChainProxy        : Securing POST /zkauth/users
2025-06-10 00:28:21.431 DEBUG 19858 --- [    Test worker] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_USER]]]
2025-06-10 00:28:21.431 DEBUG 19858 --- [    Test worker] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_USER]]]
2025-06-10 00:28:21.432 DEBUG 19858 --- [    Test worker] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /zkauth/users] with attributes [permitAll]
2025-06-10 00:28:21.433 DEBUG 19858 --- [    Test worker] o.s.security.web.FilterChainProxy        : Secured POST /zkauth/users
2025-06-10 00:28:21.462 ERROR 19858 --- [    Test worker] c.g.i.s.w.handlers.GlobalErrorHandlers   : Global error handler exception: 

org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public com.github.ivacoronel.server.web.dtos.UserDto com.github.ivacoronel.server.web.controllers.UserController.register(com.github.ivacoronel.server.web.dtos.UserDto) with 2 errors: [Field error in object 'userDto' on field 'name': rejected value [null]; codes [NotEmpty.userDto.name,NotEmpty.name,NotEmpty.java.lang.String,NotEmpty]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [userDto.name,name]; arguments []; default message [name]]; default message [must not be empty]] [Field error in object 'userDto' on field 'passwordless': rejected value [null]; codes [NotNull.userDto.passwordless,NotNull.passwordless,NotNull.java.lang.String,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [userDto.passwordless,passwordless]; arguments []; default message [passwordless]]; default message [must not be null]] 
	at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.resolveArgument(RequestResponseBodyMethodProcessor.java:141) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:122) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:179) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:146) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555) ~[tomcat-embed-core-9.0.83.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72) ~[spring-test-5.3.31.jar:5.3.31]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623) ~[tomcat-embed-core-9.0.83.jar:4.0.FR]
	at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:167) ~[spring-test-5.3.31.jar:5.3.31]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134) ~[spring-test-5.3.31.jar:5.3.31]
	at org.springframework.boot.web.servlet.filter.ErrorPageSecurityFilter.doFilter(ErrorPageSecurityFilter.java:80) ~[spring-boot-2.7.18.jar:2.7.18]
	at org.springframework.boot.web.servlet.filter.ErrorPageSecurityFilter.doFilter(ErrorPageSecurityFilter.java:70) ~[spring-boot-2.7.18.jar:2.7.18]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134) ~[spring-test-5.3.31.jar:5.3.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:164) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134) ~[spring-test-5.3.31.jar:5.3.31]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134) ~[spring-test-5.3.31.jar:5.3.31]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134) ~[spring-test-5.3.31.jar:5.3.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134) ~[spring-test-5.3.31.jar:5.3.31]
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:201) ~[spring-test-5.3.31.jar:5.3.31]
	at com.github.ivacoronel.server.web.UserControllerTest.InternalServerError(UserControllerTest.java:145) ~[test/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59) ~[junit-4.13.2.jar:4.13.2]
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) ~[junit-4.13.2.jar:4.13.2]
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56) ~[junit-4.13.2.jar:4.13.2]
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17) ~[junit-4.13.2.jar:4.13.2]
	at org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:74) ~[spring-test-5.3.31.jar:5.3.31]
	at org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84) ~[spring-test-5.3.31.jar:5.3.31]
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75) ~[spring-test-5.3.31.jar:5.3.31]
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86) ~[spring-test-5.3.31.jar:5.3.31]
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84) ~[spring-test-5.3.31.jar:5.3.31]
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366) ~[junit-4.13.2.jar:4.13.2]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251) ~[spring-test-5.3.31.jar:5.3.31]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97) ~[spring-test-5.3.31.jar:5.3.31]
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331) ~[junit-4.13.2.jar:4.13.2]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79) ~[junit-4.13.2.jar:4.13.2]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329) ~[junit-4.13.2.jar:4.13.2]
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66) ~[junit-4.13.2.jar:4.13.2]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293) ~[junit-4.13.2.jar:4.13.2]
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) ~[spring-test-5.3.31.jar:5.3.31]
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) ~[spring-test-5.3.31.jar:5.3.31]
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306) ~[junit-4.13.2.jar:4.13.2]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413) ~[junit-4.13.2.jar:4.13.2]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190) ~[spring-test-5.3.31.jar:5.3.31]
	at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.runTestClass(JUnitTestClassExecutor.java:108) ~[na:na]
	at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:57) ~[na:na]
	at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:39) ~[na:na]
	at org.gradle.api.internal.tasks.testing.junit.AbstractJUnitTestClassProcessor.processTestClass(AbstractJUnitTestClassProcessor.java:62) ~[na:na]
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.processTestClass(SuiteTestClassProcessor.java:52) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36) ~[na:na]
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24) ~[na:na]
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33) ~[na:na]
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94) ~[na:na]
	at com.sun.proxy.$Proxy5.processTestClass(Unknown Source) ~[na:na]
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$2.run(TestWorker.java:176) ~[na:na]
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129) ~[na:na]
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100) ~[na:na]
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60) ~[na:na]
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56) ~[na:na]
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113) ~[na:na]
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65) ~[na:na]
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69) ~[gradle-worker.jar:na]
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74) ~[gradle-worker.jar:na]

2025-06-10 00:28:21.465 DEBUG 19858 --- [    Test worker] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request

MockHttpServletRequest:
      HTTP Method = POST
      Request URI = /zkauth/users
       Parameters = {_csrf=[723ebbf3-16d3-4527-92f3-810177dbecc6]}
          Headers = [Content-Type:"application/json;charset=UTF-8", ZKAuth-Token:"some-test-token", Content-Length:"583"]
             Body = {
  "createdBy" : null,
  "lastModifiedBy" : null,
  "challenge" : "a3166e7b31408c5a5c002d86b26069b69dbb91683b180c1a83533b5ea3e7c612744174a5fb9dc604e3b5c5310de40830e9cf6a61fdc71c2732cd49f18728c7961ea6e054c9c5285b8c7d4d79d3ef1fde61172dc03e69a9daf77dc77de71bc11aa05cc15f4cd007fdc72bc5bb5b4475f0d4e0c84ed059692ab4766fa1400adae5bdc3f3b9dcc0ab5af8e00924df40ed9878ed11818059005f31551323a12eece1e0ecb031ff1201093cc632ec23951420298fd4f07f560fd270eaa2ba4cf688a7f2c444a72caee47e35edd42faefabc7f596c150cc6a826eac77d94e1c0d82a28364260c678831178c8d85302f0f6d1be1ec5f99a2ac61d47a6072bb415635606"
}
    Session Attrs = {SPRING_SECURITY_CONTEXT=SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_USER]]]}

Handler:
             Type = com.github.ivacoronel.server.web.controllers.UserController
           Method = com.github.ivacoronel.server.web.controllers.UserController#register(UserDto)

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = org.springframework.web.bind.MethodArgumentNotValidException

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 500
    Error message = null
          Headers = [Vary:"Origin", "Access-Control-Request-Method", "Access-Control-Request-Headers", Content-Type:"application/json", X-Content-Type-Options:"nosniff", X-XSS-Protection:"1; mode=block", Cache-Control:"no-cache, no-store, max-age=0, must-revalidate", Pragma:"no-cache", Expires:"0", X-Frame-Options:"DENY"]
     Content type = application/json
             Body = {"errorCode":"UNKNOWN","message":"Validation failed for argument [0] in public com.github.ivacoronel.server.web.dtos.UserDto com.github.ivacoronel.server.web.controllers.UserController.register(com.github.ivacoronel.server.web.dtos.UserDto) with 2 errors: [Field error in object 'userDto' on field 'name': rejected value [null]; codes [NotEmpty.userDto.name,NotEmpty.name,NotEmpty.java.lang.String,NotEmpty]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [userDto.name,name]; arguments []; default message [name]]; default message [must not be empty]] [Field error in object 'userDto' on field 'passwordless': rejected value [null]; codes [NotNull.userDto.passwordless,NotNull.passwordless,NotNull.java.lang.String,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [userDto.passwordless,passwordless]; arguments []; default message [passwordless]]; default message [must not be null]] ","errors":[]}
    Forwarded URL = null
   Redirected URL = null
          Cookies = []
2025-06-10 00:28:21.473 DEBUG 19858 --- [    Test worker] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-06-10 00:28:21.473 DEBUG 19858 --- [    Test worker] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_USER]]] to HttpSession [org.springframework.mock.web.MockHttpSession@392b1781]
2025-06-10 00:28:21.474 DEBUG 19858 --- [    Test worker] o.s.security.web.FilterChainProxy        : Securing GET /zkauth/users/Mike
2025-06-10 00:28:21.474 DEBUG 19858 --- [    Test worker] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_USER]]]
2025-06-10 00:28:21.474 DEBUG 19858 --- [    Test worker] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_USER]]]
2025-06-10 00:28:21.475 DEBUG 19858 --- [    Test worker] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /zkauth/users/Mike] with attributes [authenticated]
2025-06-10 00:28:21.476 DEBUG 19858 --- [    Test worker] o.s.security.web.FilterChainProxy        : Secured GET /zkauth/users/Mike
2025-06-10 00:28:21.479 DEBUG 19858 --- [    Test worker] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request

MockHttpServletRequest:
      HTTP Method = GET
      Request URI = /zkauth/users/Mike
       Parameters = {_csrf=[b8288010-1b13-4b24-91d1-38762442b7ab]}
          Headers = [Content-Type:"application/json;charset=UTF-8", ZKAuth-Token:"some-test-token"]
             Body = null
    Session Attrs = {SPRING_SECURITY_CONTEXT=SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_USER]]]}

Handler:
             Type = com.github.ivacoronel.server.web.controllers.UserController
           Method = com.github.ivacoronel.server.web.controllers.UserController#fetch(String, String)

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = org.springframework.dao.EmptyResultDataAccessException

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 404
    Error message = null
          Headers = [Vary:"Origin", "Access-Control-Request-Method", "Access-Control-Request-Headers", Content-Type:"application/json", X-Content-Type-Options:"nosniff", X-XSS-Protection:"1; mode=block", Cache-Control:"no-cache, no-store, max-age=0, must-revalidate", Pragma:"no-cache", Expires:"0", X-Frame-Options:"DENY"]
     Content type = application/json
             Body = {"errorCode":"NOT_FOUND","message":"Not found","errors":[]}
    Forwarded URL = null
   Redirected URL = null
          Cookies = []
2025-06-10 00:28:21.486 DEBUG 19858 --- [    Test worker] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-06-10 00:28:21.486 DEBUG 19858 --- [    Test worker] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_USER]]] to HttpSession [org.springframework.mock.web.MockHttpSession@7588e9a2]
2025-06-10 00:28:21.487 DEBUG 19858 --- [    Test worker] o.s.security.web.FilterChainProxy        : Securing POST /unknown
2025-06-10 00:28:21.487 DEBUG 19858 --- [    Test worker] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_USER]]]
2025-06-10 00:28:21.487 DEBUG 19858 --- [    Test worker] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_USER]]]
2025-06-10 00:28:21.488 DEBUG 19858 --- [    Test worker] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /unknown] with attributes [authenticated]
2025-06-10 00:28:21.489 DEBUG 19858 --- [    Test worker] o.s.security.web.FilterChainProxy        : Secured POST /unknown
2025-06-10 00:28:21.491 DEBUG 19858 --- [    Test worker] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request

MockHttpServletRequest:
      HTTP Method = POST
      Request URI = /unknown
       Parameters = {_csrf=[758e5a3c-f5e8-46c0-aba7-bf0dcb84ed76]}
          Headers = [Content-Type:"application/json;charset=UTF-8", ZKAuth-Token:"some-test-token", Content-Length:"629"]
             Body = {
  "createdBy" : null,
  "lastModifiedBy" : null,
  "id" : 1,
  "name" : "{$test.username}",
  "passwordless" : "a3166e7b31408c5a5c002d86b26069b69dbb91683b180c1a83533b5ea3e7c612744174a5fb9dc604e3b5c5310de40830e9cf6a61fdc71c2732cd49f18728c7961ea6e054c9c5285b8c7d4d79d3ef1fde61172dc03e69a9daf77dc77de71bc11aa05cc15f4cd007fdc72bc5bb5b4475f0d4e0c84ed059692ab4766fa1400adae5bdc3f3b9dcc0ab5af8e00924df40ed9878ed11818059005f31551323a12eece1e0ecb031ff1201093cc632ec23951420298fd4f07f560fd270eaa2ba4cf688a7f2c444a72caee47e35edd42faefabc7f596c150cc6a826eac77d94e1c0d82a28364260c678831178c8d85302f0f6d1be1ec5f99a2ac61d47a6072bb415635606"
}
    Session Attrs = {SPRING_SECURITY_CONTEXT=SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_USER]]]}

Handler:
             Type = org.springframework.web.servlet.resource.ResourceHttpRequestHandler

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = null

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 404
    Error message = null
          Headers = [Vary:"Origin", "Access-Control-Request-Method", "Access-Control-Request-Headers", X-Content-Type-Options:"nosniff", X-XSS-Protection:"1; mode=block", Cache-Control:"no-cache, no-store, max-age=0, must-revalidate", Pragma:"no-cache", Expires:"0", X-Frame-Options:"DENY"]
     Content type = null
             Body = 
    Forwarded URL = null
   Redirected URL = null
          Cookies = []
2025-06-10 00:28:21.498 DEBUG 19858 --- [    Test worker] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-06-10 00:28:21.498 DEBUG 19858 --- [    Test worker] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_USER]]] to HttpSession [org.springframework.mock.web.MockHttpSession@2c59abe2]
2025-06-10 00:28:21.499 DEBUG 19858 --- [    Test worker] o.s.security.web.FilterChainProxy        : Securing DELETE /zkauth/users/Mike
2025-06-10 00:28:21.499 DEBUG 19858 --- [    Test worker] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_USER]]]
2025-06-10 00:28:21.499 DEBUG 19858 --- [    Test worker] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_USER]]]
2025-06-10 00:28:21.500 DEBUG 19858 --- [    Test worker] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [DELETE /zkauth/users/Mike] with attributes [authenticated]
2025-06-10 00:28:21.500 DEBUG 19858 --- [    Test worker] o.s.security.web.FilterChainProxy        : Secured DELETE /zkauth/users/Mike
2025-06-10 00:28:21.502 DEBUG 19858 --- [    Test worker] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request

MockHttpServletRequest:
      HTTP Method = DELETE
      Request URI = /zkauth/users/Mike
       Parameters = {_csrf=[2b6a1b48-a81f-4ca3-b231-64b828a4c939]}
          Headers = [Content-Type:"application/json;charset=UTF-8", ZKAuth-Token:"some-test-token"]
             Body = null
    Session Attrs = {SPRING_SECURITY_CONTEXT=SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_USER]]]}

Handler:
             Type = com.github.ivacoronel.server.web.controllers.UserController
           Method = com.github.ivacoronel.server.web.controllers.UserController#remove(String, String)

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = null

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 200
    Error message = null
          Headers = [Vary:"Origin", "Access-Control-Request-Method", "Access-Control-Request-Headers", X-Content-Type-Options:"nosniff", X-XSS-Protection:"1; mode=block", Cache-Control:"no-cache, no-store, max-age=0, must-revalidate", Pragma:"no-cache", Expires:"0", X-Frame-Options:"DENY"]
     Content type = null
             Body = 
    Forwarded URL = null
   Redirected URL = null
          Cookies = []
2025-06-10 00:28:21.509 DEBUG 19858 --- [    Test worker] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-06-10 00:28:21.509 DEBUG 19858 --- [    Test worker] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_USER]]] to HttpSession [org.springframework.mock.web.MockHttpSession@4ceabd7]
2025-06-10 00:28:21.510 DEBUG 19858 --- [    Test worker] o.s.security.web.FilterChainProxy        : Securing POST /zkauth/users
2025-06-10 00:28:21.510 DEBUG 19858 --- [    Test worker] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_USER]]]
2025-06-10 00:28:21.511 DEBUG 19858 --- [    Test worker] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_USER]]]
2025-06-10 00:28:21.512 DEBUG 19858 --- [    Test worker] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /zkauth/users] with attributes [permitAll]
2025-06-10 00:28:21.512 DEBUG 19858 --- [    Test worker] o.s.security.web.FilterChainProxy        : Secured POST /zkauth/users
2025-06-10 00:28:21.515 DEBUG 19858 --- [    Test worker] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request

MockHttpServletRequest:
      HTTP Method = POST
      Request URI = /zkauth/users
       Parameters = {_csrf=[4e85fb58-7ebf-47a8-8a2e-6b6bfdbf4e41]}
          Headers = [Content-Type:"application/json;charset=UTF-8", ZKAuth-Token:"some-test-token", Content-Length:"629"]
             Body = {
  "createdBy" : null,
  "lastModifiedBy" : null,
  "id" : 1,
  "name" : "{$test.username}",
  "passwordless" : "a3166e7b31408c5a5c002d86b26069b69dbb91683b180c1a83533b5ea3e7c612744174a5fb9dc604e3b5c5310de40830e9cf6a61fdc71c2732cd49f18728c7961ea6e054c9c5285b8c7d4d79d3ef1fde61172dc03e69a9daf77dc77de71bc11aa05cc15f4cd007fdc72bc5bb5b4475f0d4e0c84ed059692ab4766fa1400adae5bdc3f3b9dcc0ab5af8e00924df40ed9878ed11818059005f31551323a12eece1e0ecb031ff1201093cc632ec23951420298fd4f07f560fd270eaa2ba4cf688a7f2c444a72caee47e35edd42faefabc7f596c150cc6a826eac77d94e1c0d82a28364260c678831178c8d85302f0f6d1be1ec5f99a2ac61d47a6072bb415635606"
}
    Session Attrs = {SPRING_SECURITY_CONTEXT=SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_USER]]]}

Handler:
             Type = com.github.ivacoronel.server.web.controllers.UserController
           Method = com.github.ivacoronel.server.web.controllers.UserController#register(UserDto)

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = org.springframework.dao.DataIntegrityViolationException

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 409
    Error message = null
          Headers = [Vary:"Origin", "Access-Control-Request-Method", "Access-Control-Request-Headers", Content-Type:"application/json", X-Content-Type-Options:"nosniff", X-XSS-Protection:"1; mode=block", Cache-Control:"no-cache, no-store, max-age=0, must-revalidate", Pragma:"no-cache", Expires:"0", X-Frame-Options:"DENY"]
     Content type = application/json
             Body = {"errorCode":"UNKNOWN","message":"; nested exception is org.hibernate.exception.LockAcquisitionException: ","errors":[]}
    Forwarded URL = null
   Redirected URL = null
          Cookies = []
2025-06-10 00:28:21.524 DEBUG 19858 --- [    Test worker] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-06-10 00:28:21.524 DEBUG 19858 --- [    Test worker] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_USER]]] to HttpSession [org.springframework.mock.web.MockHttpSession@1c5dd646]
2025-06-10 00:28:21.525 DEBUG 19858 --- [    Test worker] o.s.security.web.FilterChainProxy        : Securing GET /zkauth/users/Mike
2025-06-10 00:28:21.525 DEBUG 19858 --- [    Test worker] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_USER]]]
2025-06-10 00:28:21.525 DEBUG 19858 --- [    Test worker] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_USER]]]
2025-06-10 00:28:21.526 DEBUG 19858 --- [    Test worker] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /zkauth/users/Mike] with attributes [authenticated]
2025-06-10 00:28:21.526 DEBUG 19858 --- [    Test worker] o.s.security.web.FilterChainProxy        : Secured GET /zkauth/users/Mike
2025-06-10 00:28:21.529 DEBUG 19858 --- [    Test worker] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request

MockHttpServletRequest:
      HTTP Method = GET
      Request URI = /zkauth/users/Mike
       Parameters = {_csrf=[a860246b-df18-45d9-9e36-99e4cf53f2e6]}
          Headers = [Content-Type:"application/json;charset=UTF-8", ZKAuth-Token:"some-test-token"]
             Body = null
    Session Attrs = {SPRING_SECURITY_CONTEXT=SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_USER]]]}

Handler:
             Type = com.github.ivacoronel.server.web.controllers.UserController
           Method = com.github.ivacoronel.server.web.controllers.UserController#fetch(String, String)

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = org.springframework.security.access.AccessDeniedException

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 401
    Error message = null
          Headers = [Vary:"Origin", "Access-Control-Request-Method", "Access-Control-Request-Headers", Content-Type:"application/json", X-Content-Type-Options:"nosniff", X-XSS-Protection:"1; mode=block", Cache-Control:"no-cache, no-store, max-age=0, must-revalidate", Pragma:"no-cache", Expires:"0", X-Frame-Options:"DENY"]
     Content type = application/json
             Body = {"errorCode":"UNAUTHORIZED","message":"Unauthorized","challenge":"a3166e7b31408c5a5c002d86b26069b69dbb91683b180c1a83533b5ea3e7c612744174a5fb9dc604e3b5c5310de40830e9cf6a61fdc71c2732cd49f18728c7961ea6e054c9c5285b8c7d4d79d3ef1fde61172dc03e69a9daf77dc77de71bc11aa05cc15f4cd007fdc72bc5bb5b4475f0d4e0c84ed059692ab4766fa1400adae5bdc3f3b9dcc0ab5af8e00924df40ed9878ed11818059005f31551323a12eece1e0ecb031ff1201093cc632ec23951420298fd4f07f560fd270eaa2ba4cf688a7f2c444a72caee47e35edd42faefabc7f596c150cc6a826eac77d94e1c0d82a28364260c678831178c8d85302f0f6d1be1ec5f99a2ac61d47a6072bb415635606","errors":[]}
    Forwarded URL = null
   Redirected URL = null
          Cookies = []
2025-06-10 00:28:21.537 DEBUG 19858 --- [    Test worker] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-06-10 00:28:21.537 DEBUG 19858 --- [    Test worker] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_USER]]] to HttpSession [org.springframework.mock.web.MockHttpSession@75950c90]
2025-06-10 00:28:21.538 DEBUG 19858 --- [    Test worker] o.s.security.web.FilterChainProxy        : Securing DELETE /zkauth/users/Mike
2025-06-10 00:28:21.538 DEBUG 19858 --- [    Test worker] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_USER]]]
2025-06-10 00:28:21.538 DEBUG 19858 --- [    Test worker] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_USER]]]
2025-06-10 00:28:21.539 DEBUG 19858 --- [    Test worker] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [DELETE /zkauth/users/Mike] with attributes [authenticated]
2025-06-10 00:28:21.539 DEBUG 19858 --- [    Test worker] o.s.security.web.FilterChainProxy        : Secured DELETE /zkauth/users/Mike
2025-06-10 00:28:21.542 DEBUG 19858 --- [    Test worker] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request

MockHttpServletRequest:
      HTTP Method = DELETE
      Request URI = /zkauth/users/Mike
       Parameters = {_csrf=[a7cef1ed-434c-4dc6-9daa-6574cc30dcbd]}
          Headers = [Content-Type:"application/json;charset=UTF-8", ZKAuth-Token:"some-test-token"]
             Body = null
    Session Attrs = {SPRING_SECURITY_CONTEXT=SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_USER]]]}

Handler:
             Type = com.github.ivacoronel.server.web.controllers.UserController
           Method = com.github.ivacoronel.server.web.controllers.UserController#remove(String, String)

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = org.springframework.dao.EmptyResultDataAccessException

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 404
    Error message = null
          Headers = [Vary:"Origin", "Access-Control-Request-Method", "Access-Control-Request-Headers", Content-Type:"application/json", X-Content-Type-Options:"nosniff", X-XSS-Protection:"1; mode=block", Cache-Control:"no-cache, no-store, max-age=0, must-revalidate", Pragma:"no-cache", Expires:"0", X-Frame-Options:"DENY"]
     Content type = application/json
             Body = {"errorCode":"NOT_FOUND","message":"Not found","errors":[]}
    Forwarded URL = null
   Redirected URL = null
          Cookies = []
2025-06-10 00:28:21.549 DEBUG 19858 --- [    Test worker] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-06-10 00:28:21.550 DEBUG 19858 --- [    Test worker] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_USER]]] to HttpSession [org.springframework.mock.web.MockHttpSession@7ac03405]
2025-06-10 00:28:21.550 DEBUG 19858 --- [    Test worker] o.s.security.web.FilterChainProxy        : Securing GET /zkauth/users/Mike
2025-06-10 00:28:21.550 DEBUG 19858 --- [    Test worker] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_USER]]]
2025-06-10 00:28:21.551 DEBUG 19858 --- [    Test worker] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_USER]]]
2025-06-10 00:28:21.552 DEBUG 19858 --- [    Test worker] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /zkauth/users/Mike] with attributes [authenticated]
2025-06-10 00:28:21.552 DEBUG 19858 --- [    Test worker] o.s.security.web.FilterChainProxy        : Secured GET /zkauth/users/Mike
2025-06-10 00:28:21.554 DEBUG 19858 --- [    Test worker] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request

MockHttpServletRequest:
      HTTP Method = GET
      Request URI = /zkauth/users/Mike
       Parameters = {_csrf=[235bdc81-914e-4cb2-ad4f-9ee76abce34e]}
          Headers = [Content-Type:"application/json;charset=UTF-8", ZKAuth-Token:"some-test-token"]
             Body = null
    Session Attrs = {SPRING_SECURITY_CONTEXT=SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_USER]]]}

Handler:
             Type = com.github.ivacoronel.server.web.controllers.UserController
           Method = com.github.ivacoronel.server.web.controllers.UserController#fetch(String, String)

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = null

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 200
    Error message = null
          Headers = [Vary:"Origin", "Access-Control-Request-Method", "Access-Control-Request-Headers", Content-Type:"application/json", X-Content-Type-Options:"nosniff", X-XSS-Protection:"1; mode=block", Cache-Control:"no-cache, no-store, max-age=0, must-revalidate", Pragma:"no-cache", Expires:"0", X-Frame-Options:"DENY"]
     Content type = application/json
             Body = {"id":1,"name":"{$test.username}","passwordless":"a3166e7b31408c5a5c002d86b26069b69dbb91683b180c1a83533b5ea3e7c612744174a5fb9dc604e3b5c5310de40830e9cf6a61fdc71c2732cd49f18728c7961ea6e054c9c5285b8c7d4d79d3ef1fde61172dc03e69a9daf77dc77de71bc11aa05cc15f4cd007fdc72bc5bb5b4475f0d4e0c84ed059692ab4766fa1400adae5bdc3f3b9dcc0ab5af8e00924df40ed9878ed11818059005f31551323a12eece1e0ecb031ff1201093cc632ec23951420298fd4f07f560fd270eaa2ba4cf688a7f2c444a72caee47e35edd42faefabc7f596c150cc6a826eac77d94e1c0d82a28364260c678831178c8d85302f0f6d1be1ec5f99a2ac61d47a6072bb415635606"}
    Forwarded URL = null
   Redirected URL = null
          Cookies = []
2025-06-10 00:28:21.563 DEBUG 19858 --- [    Test worker] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2025-06-10 00:28:21.563 DEBUG 19858 --- [    Test worker] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_USER]]] to HttpSession [org.springframework.mock.web.MockHttpSession@a1d0386]
2025-06-10 00:28:21.563 DEBUG 19858 --- [    Test worker] o.s.security.web.FilterChainProxy        : Securing DELETE /zkauth/users/Mike
2025-06-10 00:28:21.564 DEBUG 19858 --- [    Test worker] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_USER]]]
2025-06-10 00:28:21.564 DEBUG 19858 --- [    Test worker] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_USER]]]
2025-06-10 00:28:21.565 DEBUG 19858 --- [    Test worker] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [DELETE /zkauth/users/Mike] with attributes [authenticated]
2025-06-10 00:28:21.565 DEBUG 19858 --- [    Test worker] o.s.security.web.FilterChainProxy        : Secured DELETE /zkauth/users/Mike
2025-06-10 00:28:21.568 DEBUG 19858 --- [    Test worker] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request

MockHttpServletRequest:
      HTTP Method = DELETE
      Request URI = /zkauth/users/Mike
       Parameters = {_csrf=[ca975d08-40ce-4ccc-a6a4-b24d1baa83f1]}
          Headers = [Content-Type:"application/json;charset=UTF-8", ZKAuth-Token:"some-test-token"]
             Body = null
    Session Attrs = {SPRING_SECURITY_CONTEXT=SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_USER]]]}

Handler:
             Type = com.github.ivacoronel.server.web.controllers.UserController
           Method = com.github.ivacoronel.server.web.controllers.UserController#remove(String, String)

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = org.springframework.security.access.AccessDeniedException

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 401
    Error message = null
          Headers = [Vary:"Origin", "Access-Control-Request-Method", "Access-Control-Request-Headers", Content-Type:"application/json", X-Content-Type-Options:"nosniff", X-XSS-Protection:"1; mode=block", Cache-Control:"no-cache, no-store, max-age=0, must-revalidate", Pragma:"no-cache", Expires:"0", X-Frame-Options:"DENY"]
     Content type = application/json
             Body = {"errorCode":"UNAUTHORIZED","message":"Unauthorized","challenge":"a3166e7b31408c5a5c002d86b26069b69dbb91683b180c1a83533b5ea3e7c612744174a5fb9dc604e3b5c5310de40830e9cf6a61fdc71c2732cd49f18728c7961ea6e054c9c5285b8c7d4d79d3ef1fde61172dc03e69a9daf77dc77de71bc11aa05cc15f4cd007fdc72bc5bb5b4475f0d4e0c84ed059692ab4766fa1400adae5bdc3f3b9dcc0ab5af8e00924df40ed9878ed11818059005f31551323a12eece1e0ecb031ff1201093cc632ec23951420298fd4f07f560fd270eaa2ba4cf688a7f2c444a72caee47e35edd42faefabc7f596c150cc6a826eac77d94e1c0d82a28364260c678831178c8d85302f0f6d1be1ec5f99a2ac61d47a6072bb415635606","errors":[]}
    Forwarded URL = null
   Redirected URL = null
          Cookies = []
]]></system-out>
  <system-err><![CDATA[]]></system-err>
</testsuite>
